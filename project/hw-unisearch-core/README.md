# 实现一整套数据库拉取词库, 数据推拉的高性能本地缓存服务

## 实现思路

1. 异步从数据库拉取数据, 加载到jieba分词器中, 可支持多种不同数据源的获取。比如MySQL, Elasticsearch。
2. 给予Kafka实现消息消费, 事实同步管理面新增的词库数据，实时生效。抽象监听队列模块，可支持Kafka, Redis实现发布订阅。
3. 给予发布订阅实现注册表的实时更新。
4. 支持从注册表中异步同步数据，将数据加载到本地缓存中。
5. 如果本地缓存获取无结果，则从Redis中获取结果。redis不作为数据长期存储，仅作为消费异常时的一个缓冲层。避免消费队列
异常导致的MySQL压力过大。
6. 支持存量数据拉取并写入到S3文件，拉取数据优先从S3获取，根据S3拉取的时间戳，从数据库中获取时间戳之后创建或更新的数据。

## 应用场景

1. 针对服务对性能有极高的要求，并且业务数据量不大，也没有持续增长的场景，业务支持必须从本地缓存获取数据。